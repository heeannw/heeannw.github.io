<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ì‘í’ˆ ìƒì„¸ë³´ê¸°</title>
<link rel="stylesheet" href="styles.css">
</head>

<body>

<div id="content">ë¡œë”© ì¤‘...</div>

<script>
const params = new URLSearchParams(window.location.search);
const id = params.get("id");

fetch("./data/projects.json")
  .then(res => res.json())
  .then(projects => {
    const p = projects.find(x => x.id == id);

    if (!p) {
      document.getElementById("content").innerHTML =
        "<p style='padding:40px;text-align:center;'>í”„ë¡œì íŠ¸ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>";
      return;
    }

    document.title = p.projectTitle;

    document.getElementById("content").innerHTML = `
      <header class="detail-header">
        <div>
          <h1 class="detail-title">${p.projectTitle}</h1>
          <p class="detail-team">${p.teamName || p.leader}</p>
        </div>
        <a href="index.html" class="back-btn">â† ëª©ë¡ìœ¼ë¡œ</a>
      </header>

      <main class="detail-body">

        <section class="section">
          <h2 class="section-title">í”„ë¡œì íŠ¸ ì„¤ëª…</h2>
          document.getElementById("desc").innerHTML = p.description || "ë“±ë¡ëœ ì„¤ëª…ì´ ì—†ìŠµë‹ˆë‹¤.";

        </section>

        <section class="section">
          <h2 class="section-title">íŒ€ì› ì •ë³´</h2>
          <div class="member-grid">
            ${p.members.map(m => `
              <div class="member-card">
                <p class="member-name">${m.name} ${m.leader ? "<span class='leader-tag'>íŒ€ì¥</span>" : ""}</p>
                <p class="member-email">${m.email || ""}</p>
              </div>
            `).join("")}
          </div>
        </section>

        <section class="section">
          <h2 class="section-title">ìë£Œ ë‹¤ìš´ë¡œë“œ</h2>
          <div class="download-grid">

            ${p.links.ppt ? `
            <a class="download-btn blue" href="${p.links.ppt}" target="_blank">ğŸ“„ ë°œí‘œìë£Œ ë³´ê¸°</a>` : ""}

            ${p.links.report ? `
            <a class="download-btn green" href="${p.links.report}" target="_blank">ğŸ“˜ ë³´ê³ ì„œ ë³´ê¸°</a>` : ""}

            ${p.links.github ? `
            <a class="download-btn dark" href="${p.links.github}" target="_blank">ğŸ’» GitHub</a>` : ""}

            ${p.links.video ? `
            <a class="download-btn purple" href="${p.links.video}" target="_blank">ğŸ¬ ì‹œì—° ì˜ìƒ</a>` : ""}

            ${!p.links.ppt && !p.links.report && !p.links.github && !p.links.video 
              ? "<p>ë“±ë¡ëœ ìë£Œê°€ ì—†ìŠµë‹ˆë‹¤.</p>" : ""}
          </div>
        </section>

      </main>

      <footer class="footer">
        Â© 2025 HYWU Big Data Â· Graduation Archive
      </footer>
    `;
  });
</script>

</body>
</html>
