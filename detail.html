<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ì‘í’ˆ ìƒì„¸ë³´ê¸°</title>
<link rel="stylesheet" href="styles.css">
</head>

<body>

<div class="detail-header">
  <h1 id="title" class="detail-title"></h1>
  <p id="team" class="detail-team"></p>
  <a href="index.html" class="back-btn">â† ëª©ë¡ìœ¼ë¡œ</a>
</div>

<div class="detail-body">
  
  <!-- í”„ë¡œì íŠ¸ ì„¤ëª… -->
  <h2>í”„ë¡œì íŠ¸ ì„¤ëª…</h2>
  <p id="desc">ë“±ë¡ëœ ì„¤ëª…ì´ ì—†ìŠµë‹ˆë‹¤.</p>

  <!-- íŒ€ì› -->
  <h2 style="margin-top:30px;">íŒ€ì› ì •ë³´</h2>
  <div id="members" class="member-box"></div>

  <!-- ìë£Œ ë‹¤ìš´ë¡œë“œ -->
  <h2 style="margin-top:30px;">ìë£Œ ë‹¤ìš´ë¡œë“œ</h2>
  <div id="links" class="download-grid"></div>

</div>

<footer class="footer">Â© 2025 HYWU Big Data Â· Graduation Archive</footer>

<script>
const params = new URLSearchParams(window.location.search);
const id = Number(params.get("id"));

fetch("data/projects.json")
  .then(res => res.json())
  .then(list => {
    const p = list.find(x => x.id === id);

    /* ì œëª©, íŒ€ëª…, ì„¤ëª… */
    document.getElementById("title").textContent = p.projectTitle;
    document.getElementById("team").textContent = p.teamName || p.leader;
    document.getElementById("desc").innerHTML =
      p.description || "ë“±ë¡ëœ ì„¤ëª…ì´ ì—†ìŠµë‹ˆë‹¤.";

    /* íŒ€ì› */
    document.getElementById("members").innerHTML = `
      <div class="member-grid">
        ${p.members.map(m => `
          <div class="member-card">
            <p class="member-name">
              ${m.name}
              ${m.leader ? `<span class="leader-tag">íŒ€ì¥</span>` : ""}
            </p>
            <p class="member-email">${m.email || ""}</p>
          </div>
        `).join("")}
      </div>
    `;

    /* ----------------------------
       ìë£Œ ë‹¤ìš´ë¡œë“œ (ë°°ì—´ ì™„ì „ ì§€ì›)
    ----------------------------- */

    /* 1) PPT */
    const pptLinks = p.links.ppt
      ? `<a class="download-btn blue" href="${p.links.ppt}" target="_blank">ğŸ“Š PPT ë‹¤ìš´ë¡œë“œ</a><br>`
      : "";

    /* 2) Report â€” ë°°ì—´ or ë‹¨ì¼ íŒŒì¼ */
    let reportLinks = "";
    if (Array.isArray(p.links.report)) {
      reportLinks = p.links.report
        .map((r, i) => 
          `<a class="download-btn blue" href="${r}" target="_blank">ğŸ“„ ë³´ê³ ì„œ ${i + 1}</a><br>`
        ).join("");
    } else if (p.links.report) {
      reportLinks = `<a class="download-btn blue" href="${p.links.report}" target="_blank">ğŸ“„ ë³´ê³ ì„œ</a><br>`;
    }

    /* 3) GitHub */
    const githubLink = p.links.github
      ? `<a class="download-btn blue" href="${p.links.github}" target="_blank">ğŸ’» GitHub</a><br>`
      : "";

    /* 4) Video â€” ë°°ì—´ or ë‹¨ì¼ íŒŒì¼ */
    let videoLinks = "";
    if (Array.isArray(p.links.video)) {
      videoLinks = p.links.video
        .map((v, i) =>
          `<a class="download-btn blue" href="${v}" target="_blank">ğŸ¬ ì‹œì—° ì˜ìƒ ${i + 1}</a><br>`
        ).join("");
    } else if (p.links.video) {
      videoLinks = `<a class="download-btn blue" href="${p.links.video}" target="_blank">ğŸ¬ ì‹œì—° ì˜ìƒ</a><br>`;
    }

    /* ìµœì¢… ë Œë”ë§ */
    document.getElementById("links").innerHTML = `
      ${pptLinks}
      ${reportLinks}
      ${githubLink}
      ${videoLinks}
      ${
        !p.links.ppt &&
        !p.links.report &&
        !p.links.github &&
        !p.links.video
          ? "ë“±ë¡ëœ ìë£Œê°€ ì—†ìŠµë‹ˆë‹¤."
          : ""
      }
    `;
  });
</script>

</body>
</html>
